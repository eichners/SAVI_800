<!-- In Class exercise 2, class 3: API's-->

<!DOCTYPE html>
<html>
  <head> </head>
  <body>
  
  	  <script type="text/javascript" src="jQuery/jquery-1.11.2.min.js">
  	  </script>
  	  	<script>
  	var url = 'https://eichnersara.cartodb.com/api/v2/sql?q=SELECT%20*%20FROM%20listings%20LIMIT%205';
  	var myData;
$.getJSON(url)
.done(function (data) {
	// do something with the data
	console.log(data.rows[3].host_name);
	console.log(data.rows);
	console.log(data.rows[3].room_type);
	console.log(data.rows[3].price);
	myData = data;

	});
console.log(myData);
</script>
</body>

NEXT: STEP #

// Show the top 25 most expensive AirBnB rentals in New York
// using CartoDB's SQL API.
//

$(document).ready(function () {
  // Create a map centered on NYC
  var map = L.map('map').setView([45.489502,-73.578873], 10);
  
  // Add a base layer. We're using Stamen's Toner:
  //  http://maps.stamen.com/#toner
  L.tileLayer('http://tile.stamen.com/toner/{z}/{x}/{y}.png', {
    attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.',
    maxZoom: 18
}).addTo(map);
  
  // Ask CartoDB for the top 25 most expensive features, as GeoJSON
  $.getJSON('https://eric.cartodb.com/api/v2/sql?q=SELECT * FROM airbnb2 ORDER BY price DESC LIMIT 25&format=GeoJSON')
  
    // When it's done, add the results to the map
    .done(function (data) {
      L.geoJson(data).addTo(map);   
    });
});